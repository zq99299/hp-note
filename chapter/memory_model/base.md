# 基础
## 并发编程模型的分类

在并发编程中，需要处理两个问题：

1. 线程之间如何通信
2. 线程直接如何同步

线程之间的通信机制有两种：

1. 共享内存：有公共状态
2. 消息传递：无公共状态，必须通过明确的发送消息进行通信

Java的并发采用的是共享内存模型；

## JAVA内存模型的抽象

堆内存：所有实例域、静态域、和数组元素存储在堆内存中，堆内存在线程直接共享（可称为共享变量）

局部变量（Local variables），方法定义参数，异常处理器参数不会在线程之间共享，他们不会有内存可见性的问题，也不受内存模型的影响。

Java内存模型（JMM）定义了线程和主内存之间的抽象关系：线程之间的共享变量存储在主内存中（main memory），每个线程都有一个私有的本地内存（local memory），本地内存中存储了该线程以读/写共享变量的副本。本地内存是JMM的一个抽象概念，不真实存在。包含了缓存、写缓冲区、寄存器以及其他的硬件和编译器优化。示意图如下
![](/assets/memory_model/JMM.png)


## volatile






